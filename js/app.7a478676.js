(function(e){function t(t){for(var o,a,u=t[0],s=t[1],i=t[2],m=0,d=[];m<u.length;m++)a=u[m],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);l&&l(t);while(d.length)d.shift()();return c.push.apply(c,i||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],o=!0,u=1;u<n.length;u++){var s=n[u];0!==r[s]&&(o=!1)}o&&(c.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},r={app:0},c=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/tada-test/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=t,u=u.slice();for(var i=0;i<u.length;i++)t(u[i]);var l=s;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1472:function(e,t,n){},"1e8c":function(e,t,n){"use strict";n("204e")},"204e":function(e,t,n){},"3d83":function(e,t,n){"use strict";n("1472")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23");function r(e,t,n,r,c,a){var u=Object(o["v"])("Nav"),s=Object(o["v"])("router-view");return Object(o["q"])(),Object(o["d"])("main",null,[Object(o["g"])(u,{status:r.status},null,8,["status"]),Object(o["g"])(s)])}var c,a=n("5502"),u=n("1da1"),s=(n("96cf"),n("d3b7"),n("6062"),n("3ca3"),n("ddb0"),n("4de4"),n("c740"),n("7db0"),n("b0c0"),n("99af"),n("498a"),n("8ba4"),n("a9e3"),n("fb6a"),n("ba16")),i=Object({NODE_ENV:"production",BASE_URL:"/tada-test/"}).VUE_APP_SERVER_URL||"nane.tada.team",l=Object({NODE_ENV:"production",BASE_URL:"/tada-test/"}).VUE_APP_API_URL||"https://".concat(i,"/api/"),m=Object({NODE_ENV:"production",BASE_URL:"/tada-test/"}).VUE_APP_WSS_URL||"wss://".concat(i,"/ws");function d(){return b.apply(this,arguments)}function b(){return b=Object(u["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O("".concat(l,"rooms"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function p(){return f.apply(this,arguments)}function f(){return f=Object(u["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O("".concat(l,"settings"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function v(e){return g.apply(this,arguments)}function g(){return g=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O("".concat(l,"rooms/").concat(t,"/history"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function O(e){return j.apply(this,arguments)}function j(){return j=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:if(n=e.sent,n.ok){e.next=6;break}throw new Error(n.statusText);case 6:return e.next=8,n.json();case 8:return o=e.sent,e.abrupt("return",o);case 12:return e.prev=12,e.t0=e["catch"](0),console.warn("Catch error:",e.t0),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),j.apply(this,arguments)}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"anonymous",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return c&&(c.onclose=function(){},c.close(1e3,"user change name")),c=new WebSocket("".concat(m,"?username=").concat(e)),c.onopen=function(){t(!0)},c.onclose=function(){t(!1),setTimeout((function(){h(e,t,n)}),500)},c.onmessage=function(e){try{var t=JSON.parse(null===e||void 0===e?void 0:e.data);n(t)}catch(o){console.warn("Catch error:",o)}},c}function R(e,t,n){c.send(JSON.stringify({room:e,text:t,id:n}))}var w=new a["a"].Store({state:function(){return{username:localStorage.getItem("username")||"anonymous",rooms:[],openedRooms:new Set,messages:[],users:[],serverSettings:{},status:"offline",sendQueue:[]}},getters:{roomMessages:function(e){return function(t){return e.messages.filter((function(e){var n=e.room;return t===n}))}},roomQueue:function(e){return function(t){return e.sendQueue.filter((function(e){var n=e.room;return t===n}))}}},mutations:{removeDuplicateMessages:function(e){e.messages=e.messages.filter((function(e,t,n){var o=e.created;return t===n.findIndex((function(e){return e.created===o}))}))},updateRooms:function(e,t){e.rooms=t},updateRoomsMessage:function(e,t){if(null!==t&&void 0!==t&&t.room){var n=e.rooms.find((function(e){var n=e.name;return n===(null===t||void 0===t?void 0:t.room)}));n?n.last_message=t:e.rooms.push({name:null===t||void 0===t?void 0:t.room,last_message:t})}},updateRoomHistory:function(e,t){e.messages=e.messages.concat(t)},updateSettings:function(e,t){e.settings=t},updateStatus:function(e,t){e.status=t?"online":"offline"},message:function(e,t){e.messages.push(t)},addToQueue:function(e,t){e.sendQueue.push(t)},filterQueue:function(e,t){e.sendQueue=e.sendQueue.filter((function(e){var n=e.id;return n!==t}))},updateName:function(e,t){e.username=t},addOpenedRooms:function(e,t){e.openedRooms.add(t)},createRoom:function(e,t){var n=new Date;e.rooms.push({name:t,last_message:{room:t,created:n.toISOString(),sender:{username:e.username},text:"создал новую комнату"}})}},actions:{getRooms:function(e){return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,d();case 2:n=t.sent,e.commit("updateRooms",null===n||void 0===n?void 0:n.result);case 4:case"end":return t.stop()}}),t)})))()},getRoomHistory:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var o,r,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t&&t.trim()){n.next=2;break}return n.abrupt("return");case 2:if(Number.isInteger(+(null===(o=e.state.settings)||void 0===o?void 0:o.max_room_title_length))&&(t=t.slice(0,+(null===(r=e.state.settings)||void 0===r?void 0:r.max_room_title_length))),!e.state.openedRooms.has(t)){n.next=5;break}return n.abrupt("return");case 5:return e.commit("addOpenedRooms",t),n.next=8,v(t);case 8:return c=n.sent,c&&(e.commit("updateRoomHistory",null===c||void 0===c?void 0:c.result),e.commit("removeDuplicateMessages")),n.abrupt("return",t);case 11:case"end":return n.stop()}}),n)})))()},getSettings:function(e){return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,p();case 2:n=t.sent,e.commit("updateSettings",null===n||void 0===n?void 0:n.result);case 4:case"end":return t.stop()}}),t)})))()},connectStatus:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.commit("updateStatus",t);case 1:case"end":return n.stop()}}),n)})))()},message:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.commit("message",t),e.commit("updateRoomsMessage",t),t.id&&e.commit("filterQueue",t.id);case 3:case"end":return n.stop()}}),n)})))()},newSendMessage:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var o,r,c,a,u,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(c=t.text,a=t.room,c&&c.trim()&&a&&a.trim()){n.next=3;break}return n.abrupt("return");case 3:u=Object(s["a"])(),Number.isInteger(+(null===(o=e.state.settings)||void 0===o?void 0:o.max_message_length))&&c.length>+(null===(r=e.state.settings)||void 0===r?void 0:r.max_message_length)&&(c=c.slice(0,+(null===(i=e.state.settings)||void 0===i?void 0:i.max_message_length))),e.commit("addToQueue",{text:c,room:a,id:u,sender:{username:e.state.username}}),R(a,c,u);case 7:case"end":return n.stop()}}),n)})))()},updateName:function(e,t){var n;return t&&t.trim()&&t.length<=(null===(n=e.state.settings)||void 0===n?void 0:n.max_username_length)?(localStorage.setItem("username",t),e.commit("updateName",t),t):null},tryRepeatSend:function(e,t){var n=e.state.sendQueue.find((function(e){return e.id===t})),o=n.id,r=n.room,c=n.text;R(r,c,o)},clearMessage:function(e,t){e.commit("filterQueue",t)},createRoom:function(e,t){var n;if(t&&t.trim()){var o;if(Number.isInteger(+(null===(n=e.state.settings)||void 0===n?void 0:n.max_room_title_length)))t=t.slice(0,+(null===(o=e.state.settings)||void 0===o?void 0:o.max_room_title_length));return e.commit("createRoom",t),t}}}});function y(e,t){function n(t){e.dispatch("connectStatus",t)}function o(t){e.dispatch("message",t)}h(t,n,o)}var x={class:"nav"},_={class:"name-wrapper"},k={key:0,class:"name-change",title:"Кликните, чтобы поменять"},S=Object(o["g"])("div",{class:"name-change-hint"},"Ваше имя:",-1),N={key:1,class:"input-name"},M={class:"room-wrapper"},E={key:0,class:"room-change"},C={key:1,class:"input-room"},q={key:2};function I(e,t,n,r,c,a){return Object(o["q"])(),Object(o["d"])("div",x,[Object(o["g"])("div",_,[r.editNameMode?Object(o["e"])("",!0):(Object(o["q"])(),Object(o["d"])("div",k,[S,Object(o["g"])("b",null,Object(o["x"])(r.username),1),Object(o["g"])("button",{class:"change-button",onClick:t[1]||(t[1]=function(){return r.enterEditNameMode&&r.enterEditNameMode.apply(r,arguments)})},"Поменять")])),r.editNameMode?(Object(o["q"])(),Object(o["d"])("div",N,[Object(o["D"])(Object(o["g"])("input",{type:"text",placeholder:"Введите имя","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.inputtedName=e}),onKeydown:t[3]||(t[3]=Object(o["E"])((function(){return r.changeName&&r.changeName.apply(r,arguments)}),["enter"]))},null,544),[[o["A"],r.inputtedName]]),Object(o["g"])("button",{class:"ok",onClick:t[4]||(t[4]=function(){return r.changeName&&r.changeName.apply(r,arguments)})},"Поменять имя"),Object(o["g"])("button",{class:"cancel",onClick:t[5]||(t[5]=function(){return r.dontChangeName&&r.dontChangeName.apply(r,arguments)})},"x")])):Object(o["e"])("",!0)]),Object(o["g"])("div",M,[r.editRoomMode?Object(o["e"])("",!0):(Object(o["q"])(),Object(o["d"])("div",E,[Object(o["f"])(Object(o["x"])(r.roomName)+" ",1),Object(o["g"])("button",{class:"change-button",onClick:t[6]||(t[6]=function(){return r.enterEditRoomMode&&r.enterEditRoomMode.apply(r,arguments)})},"Создать новую"),Object(o["D"])(Object(o["g"])("input",{type:"checkbox",class:"hidden","onUpdate:modelValue":t[7]||(t[7]=function(e){return r.editRoomMode=e})},null,512),[[o["z"],r.editRoomMode]])])),r.editRoomMode?(Object(o["q"])(),Object(o["d"])("div",C,[Object(o["D"])(Object(o["g"])("input",{type:"text",placeholder:"Введите название комнаты","onUpdate:modelValue":t[8]||(t[8]=function(e){return r.inputtedRoom=e}),onKeydown:t[9]||(t[9]=Object(o["E"])((function(){return r.openRoom&&r.openRoom.apply(r,arguments)}),["enter"]))},null,544),[[o["A"],r.inputtedRoom]]),Object(o["g"])("button",{class:"ok",onClick:t[10]||(t[10]=function(){return r.openRoom&&r.openRoom.apply(r,arguments)})},"Создать комнату"),Object(o["g"])("button",{class:"cancel",onClick:t[11]||(t[11]=function(){return r.dontOpenRoom&&r.dontOpenRoom.apply(r,arguments)})},"x")])):Object(o["e"])("",!0),r.loading?(Object(o["q"])(),Object(o["d"])("div",q,"loading...")):Object(o["e"])("",!0),Object(o["g"])("div",{class:["status",{online:n.status}],title:"Connection status: ".concat(n.status?"ok":"bad")},null,10,["title"])])])}n("ac1f"),n("5319");var L=n("6c02"),Q={props:["status"],setup:function(){var e=Object(L["d"])(),t=Object(L["c"])(),n=Object(a["b"])(),r=Object(o["b"])((function(){return n.state.openedRooms})),c=Object(o["b"])((function(){return n.state.username})),u=Object(o["b"])((function(){return t.path.replace("/room/","")})),s=Object(o["t"])(!1),i=Object(o["t"])(c.value),l=Object(o["t"])("/"===u.value),m=Object(o["t"])(""),d=Object(o["t"])(!1),b=function(){s.value=!0},p=function(){s.value=!1,d.value=!0,n.dispatch("updateName",i.value).then((function(e){i.value=e,d.value=!1}))},f=function(){s.value=!1},v=function(){l.value=!0},g=function(){l.value=!1,n.dispatch("createRoom",m.value).then((function(t){t&&e.push("/room/".concat(t))}))},O=function(){l.value=!1};return Object(o["B"])(r,(function(t,n){!t.has(u)&&n.has(u)&&e.push("/")})),Object(o["B"])(u,(function(){l.value=!1})),{openedRooms:r,close:close,username:c,editNameMode:s,inputtedName:i,changeName:p,dontChangeName:f,loading:d,editRoomMode:l,inputtedRoom:m,openRoom:g,dontOpenRoom:O,roomName:u,enterEditNameMode:b,enterEditRoomMode:v}}};n("3d83");Q.render=I;var P=Q,V={name:"App",setup:function(){var e=Object(a["b"])(),t=Object(o["b"])((function(){return e.state.username})),n=Object(o["b"])((function(){return"online"===e.state.status}));return Object(o["B"])(t,(function(){y(e,t.value)})),y(e,t.value),e.dispatch("getRooms"),e.dispatch("getSettings"),{status:n}},components:{Nav:P}};n("babf");V.render=r;var T=V,U={class:"wrap"},D={class:"chat-wrap"},A={key:0,class:"hint"},B={key:1,class:"hint"};function H(e,t,n,r,c,a){var u=Object(o["v"])("RoomList"),s=Object(o["v"])("InputLine"),i=Object(o["v"])("ScrollIcon");return Object(o["q"])(),Object(o["d"])("div",U,[Object(o["g"])(u),Object(o["g"])("div",D,[Object(o["g"])("div",{class:"chat-messages",onScroll:t[1]||(t[1]=function(){return r.scroll&&r.scroll.apply(r,arguments)})},[r.roomMessages.length?Object(o["e"])("",!0):(Object(o["q"])(),Object(o["d"])("p",A,"В этой комнате еще нет сообщений")),(Object(o["q"])(!0),Object(o["d"])(o["a"],null,Object(o["u"])(r.roomMessages,(function(e){var t,n;return Object(o["q"])(),Object(o["d"])("p",{class:["message",{my_message:(null===e||void 0===e||null===(t=e.sender)||void 0===t?void 0:t.username)===r.username}],key:e.created},[Object(o["g"])("b",null,Object(o["x"])((null===e||void 0===e||null===(n=e.sender)||void 0===n?void 0:n.username)||"unknown")+":",1),Object(o["f"])(" "+Object(o["x"])(null===e||void 0===e?void 0:e.text),1)],2)})),128)),r.roomQueue.length?(Object(o["q"])(),Object(o["d"])("p",B," Не отправленные сообщения (сервер не подтвердил получение) ")):Object(o["e"])("",!0),(Object(o["q"])(!0),Object(o["d"])(o["a"],null,Object(o["u"])(r.roomQueue,(function(e){var t,n;return Object(o["q"])(),Object(o["d"])("p",{class:{my_message:(null===e||void 0===e||null===(t=e.sender)||void 0===t?void 0:t.username)===r.username},key:e.id},[Object(o["g"])("b",null,Object(o["x"])((null===e||void 0===e||null===(n=e.sender)||void 0===n?void 0:n.username)||"unknown")+":",1),Object(o["f"])(" "+Object(o["x"])(null===e||void 0===e?void 0:e.text)+" ",1),Object(o["g"])("button",{onClick:function(t){return r.repeatSend(e.id)}},"Повторить",8,["onClick"]),Object(o["g"])("button",{onClick:function(t){return r.clearMsg(e.id)}},"Удалить",8,["onClick"])],2)})),128)),Object(o["g"])("span",{ref:function(e){return r.lastItem=e}},null,512)],32),Object(o["g"])(s,{room:n.room},null,8,["room"]),Object(o["g"])(i,{needScroll:r.scrollToDown,onToggleScroll:r.toggleScroll},null,8,["needScroll","onToggleScroll"])])])}var J={class:"input"};function K(e,t,n,r,c,a){return Object(o["q"])(),Object(o["d"])("div",J,[Object(o["D"])(Object(o["g"])("input",{class:"send-input",type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.line=e}),onKeydown:t[2]||(t[2]=Object(o["E"])((function(){return r.send&&r.send.apply(r,arguments)}),["enter"])),placeholder:"Введите сообщение..."},null,544),[[o["A"],r.line]]),Object(o["g"])("button",{class:"send-button",onClick:t[3]||(t[3]=function(){return r.send&&r.send.apply(r,arguments)})},"Отправить сообщение")])}var W={name:"InputLine",props:["room"],setup:function(e){var t=Object(a["b"])(),n=Object(o["t"])(""),r=function(){t.dispatch("newSendMessage",{room:e.room,text:n.value}),n.value=""};return{line:n,send:r}}};n("913b");W.render=K;var z=W;function F(e,t,n,r,c,a){return n.needScroll?Object(o["e"])("",!0):(Object(o["q"])(),Object(o["d"])("button",{key:0,class:"scroll-icon",onClick:t[1]||(t[1]=function(){return r.toggle&&r.toggle.apply(r,arguments)}),title:"Прокручивать к новым сообщениям"}," v "))}var G={name:"ScrollIcon",props:["needScroll"],setup:function(e,t){var n=t.emit,o=function(){n("toggle-scroll")};return{toggle:o}}};n("c87a");G.render=F;var X=G,Y={class:"rooms-wrap"},Z={class:"room__title"},$=Object(o["g"])("div",{class:"room__last-message"},"Последнее сообщение:",-1),ee={class:"room__last-message"},te={class:"room__last-author"},ne=Object(o["f"])(": "),oe={class:"room__last-text"};function re(e,t,n,r,c,a){var u=Object(o["v"])("router-link");return Object(o["q"])(),Object(o["d"])("div",Y,[(Object(o["q"])(!0),Object(o["d"])(o["a"],null,Object(o["u"])(r.roomList,(function(e){return Object(o["q"])(),Object(o["d"])(u,{key:e,to:"/room/".concat(e.name),custom:""},{default:Object(o["C"])((function(t){var n,r,c,a=t.href,u=t.navigate;return[Object(o["g"])("a",{href:a,class:"room",onClick:u},[Object(o["g"])("div",Z,"Комната: "+Object(o["x"])(e.name),1),$,Object(o["g"])("div",ee,[Object(o["g"])("span",te,Object(o["x"])((null===e||void 0===e||null===(n=e.last_message)||void 0===n||null===(r=n.sender)||void 0===r?void 0:r.username)||"unknown"),1),ne,Object(o["g"])("span",oe,Object(o["x"])(null===e||void 0===e||null===(c=e.last_message)||void 0===c?void 0:c.text),1)])],8,["href","onClick"])]})),_:2},1032,["to"])})),128))])}var ce={name:"RoomList",setup:function(){var e=Object(a["b"])(),t=Object(o["b"])((function(){return e.state.rooms}));return{roomList:t}}};n("b6fd");ce.render=re;var ae=ce,ue={name:"Room",props:["room"],components:{InputLine:z,ScrollIcon:X,RoomList:ae},setup:function(e){var t=Object(L["d"])(),n=Object(a["b"])(),r=function(e){n.dispatch("getRoomHistory",e).then((function(n){n!==e&&t.push("/room/".concat(n))}))};r(e.room);var c=Object(o["t"])(null),u=Object(o["t"])(!0),s=Object(o["t"])(!1),i=Object(o["b"])((function(){return n.getters.roomMessages(e.room)})),l=Object(o["b"])((function(){return n.getters.roomQueue(e.room)})),m=Object(o["b"])((function(){return n.state.openedRooms})),d=Object(o["b"])((function(){return n.state.username})),b=function(){c.value.scrollIntoView(!0),setTimeout((function(){u.value=!0}),50)},p=function(){s.value||(u.value=!1)},f=function(e){n.dispatch("tryRepeatSend",e)},v=function(e){n.dispatch("clearMessage",e)};return Object(o["B"])((function(){return e.room}),(function(){m.value.has(e.room)||r(e.room)}),{flush:"post"}),Object(o["B"])((function(){return n.getters.roomMessages(e.room)}),(function(){var e;u.value&&null!==c&&void 0!==c&&null!==(e=c.value)&&void 0!==e&&e.scrollIntoView&&(s.value=!0,c.value.scrollIntoView(!0),setTimeout((function(){s.value=!1}),50))}),{flush:"post"}),{roomMessages:i,roomQueue:l,scrollToDown:u,lastItem:c,toggleScroll:b,scroll:p,username:d,repeatSend:f,clearMsg:v}}};n("f11a");ue.render=H;var se=ue,ie={class:"wrap"},le=Object(o["g"])("div",{class:"empty-room"},"Выберите комнату",-1);function me(e,t,n,r,c,a){var u=Object(o["v"])("RoomList");return Object(o["q"])(),Object(o["d"])("div",ie,[Object(o["g"])(u),le])}var de={name:"HomePage",components:{RoomList:ae},setup:function(){var e=Object(a["b"])(),t=Object(L["d"])(),n=Object(o["t"])(""),r=Object(o["t"])(""),c=Object(o["t"])(!1),u=Object(o["t"])(!1),s=Object(o["b"])((function(){return e.state.rooms})),i=Object(o["b"])((function(){return e.state.username}));Object(o["o"])((function(){n.value=e.state.username}));var l=function(){u.value=!0,e.dispatch("updateName",n.value).then((function(e){u.value=!1,e?(n.value=e,c.value=!0,setTimeout((function(){c.value=!1}),2e3)):n.value=i.value}))},m=function(e){var t=e.target.value;n.value=t},d=function(){r.value.trim()&&t.push("/room/".concat(r.value))};return{username:n,updateName:l,roomList:s,change:m,nameChanged:c,newRoom:r,gotoNewRoom:d}}};n("1e8c");de.render=me;var be=de,pe=[{path:"/",name:"Home",component:be},{path:"/room/:room",name:"Room",component:se,props:!0}],fe=Object(L["a"])({history:Object(L["b"])("/tada-test/"),routes:pe}),ve=Object(o["c"])(T);ve.use(w),ve.use(fe),ve.mount("#app")},"5a68":function(e,t,n){},"87c7":function(e,t,n){},"913b":function(e,t,n){"use strict";n("5a68")},b6fd:function(e,t,n){"use strict";n("d637")},babf:function(e,t,n){"use strict";n("e2fa")},c87a:function(e,t,n){"use strict";n("cf88")},cf88:function(e,t,n){},d637:function(e,t,n){},e2fa:function(e,t,n){},f11a:function(e,t,n){"use strict";n("87c7")}});
//# sourceMappingURL=app.7a478676.js.map